# 🧪 Script Weaver 리팩터링 회귀 테스트 케이스

**테스트 대상**: editorStore God Object → 도메인별 Store + Hook 아키텍처 리팩터링
**테스트 일시**: 2025-06-16
**테스트 환경**: Chrome, Firefox, Safari (데스크톱), iOS Safari, Android Chrome (모바일)

## 📋 테스트 진행 방법

### 우선순위별 테스트 그룹
- **P0 (Critical)**: 핵심 기능, 데이터 손실 위험 기능
- **P1 (High)**: 주요 사용자 워크플로우
- **P2 (Medium)**: 편의성 기능
- **P3 (Low)**: UI/UX 개선 사항

### 테스트 결과 기록
각 테스트 케이스마다 다음과 같이 기록:
- ✅ **PASS**: 정상 작동
- ❌ **FAIL**: 실패 (상세 내용 기록)
- ⚠️ **PARTIAL**: 일부만 작동 (세부사항 기록)
- 🔄 **SKIP**: 현재 비활성화된 기능

---

## 🎯 P0 (Critical) - 핵심 기능

### 1. 애플리케이션 시작 및 초기화
**목적**: 기본 앱 실행 및 초기 상태 확인

#### TC-P0-01: 앱 시작
- **전제조건**: 브라우저에서 `npm run dev` 실행
- **실행단계**:
  1. 브라우저에서 localhost:5173 접속
  2. 페이지 로딩 완료 대기
- **예상결과**:
  - 무한 루프나 콘솔 에러 없이 정상 로딩
  - 화면이 전체 뷰포트를 사용 (100vw x 100vh)
  - 텍스트가 왼쪽 정렬로 표시
  - 사이드바, 캔버스, 속성 패널이 정상 표시
- **실제결과**: [ ]

#### TC-P0-02: 초기 상태 확인
- **전제조건**: 앱 정상 실행
- **실행단계**:
  1. 초기 화면 확인
  2. 개발자 도구에서 localStorage 확인
- **예상결과**:
  - 기본 템플릿 'default', 씬 'main' 로드
  - 빈 캔버스 표시
  - 노드 수: 0/100 표시
  - "자동 저장됨" 상태 표시
- **실제결과**: [ ]

### 2. 데이터 지속성 (localStorage)
**목적**: 리팩터링 후 localStorage 연동 정상 작동 확인

#### TC-P0-03: 자동 저장 확인
- **전제조건**: 앱 정상 실행
- **실행단계**:
  1. 텍스트 노드 1개 생성
  2. 내용 입력: "테스트 노드"
  3. 페이지 새로고침
- **예상결과**:
  - 새로고침 후에도 생성한 노드가 남아있음
  - 입력한 내용이 보존됨
  - localStorage에 데이터 저장 확인
- **실제결과**: [ ]

#### TC-P0-04: 프로젝트 데이터 복구
- **전제조건**: localStorage에 기존 프로젝트 데이터
- **실행단계**:
  1. 브라우저 종료
  2. 브라우저 재시작 후 앱 접속
- **예상결과**:
  - 이전 세션의 모든 데이터 복구
  - 템플릿, 씬, 노드 정보 정상 로드
- **실제결과**: [ ]

### 3. 노드 CRUD 기능
**목적**: 핵심 노드 관리 기능 정상 작동 확인

#### TC-P0-05: 텍스트 노드 생성
- **전제조건**: 빈 캔버스
- **실행단계**:
  1. 사이드바에서 "+ 텍스트 노드" 클릭
  2. 생성된 노드 확인
- **예상결과**:
  - 캔버스에 새 텍스트 노드 표시
  - 노드가 자동 선택됨 (파란색 테두리)
  - 속성 패널에 노드 정보 표시
  - 노드 수 카운터 증가 (1/100)
- **실제결과**: [ ]

#### TC-P0-06: 선택지 노드 생성
- **전제조건**: 빈 캔버스
- **실행단계**:
  1. 사이드바에서 "+ 선택지 노드" 클릭
  2. 생성된 노드 확인
- **예상결과**:
  - 캔버스에 새 선택지 노드 표시 (파란색 배경)
  - 노드가 자동 선택됨
  - 속성 패널에 선택지 관련 필드 표시
- **실제결과**: [ ]

#### TC-P0-07: 노드 내용 편집
- **전제조건**: 텍스트 노드 1개 존재
- **실행단계**:
  1. 노드 선택
  2. 속성 패널에서 "화자" 필드에 "테스터" 입력
  3. "내용" 필드에 "안녕하세요" 입력
  4. 다른 곳 클릭하여 저장
- **예상결과**:
  - 입력한 내용이 즉시 반영됨
  - 캔버스의 노드에 변경사항 표시
  - 자동 저장됨
- **실제결과**: [ ]

#### TC-P0-08: 노드 삭제
- **전제조건**: 노드 1개 이상 존재
- **실행단계**:
  1. 노드 선택
  2. Delete 키 또는 삭제 버튼 클릭
  3. 삭제 확인
- **예상결과**:
  - 선택된 노드가 캔버스에서 제거됨
  - 노드 수 카운터 감소
  - 속성 패널이 빈 상태로 변경
- **실제결과**: [ ]

### 4. 프로젝트 Import/Export
**목적**: 데이터 손실 방지를 위한 핵심 백업 기능

#### TC-P0-09: JSON 내보내기
- **전제조건**: 노드 2개 이상 생성 및 내용 입력
- **실행단계**:
  1. 사이드바에서 "JSON 내보내기" 클릭
  2. 다운로드된 파일 확인
- **예상결과**:
  - JSON 파일 다운로드 성공
  - 파일명 형식: dialogue-YYYY-MM-DD-HHMMSS.json
  - 파일 내용에 모든 노드 정보 포함
- **실제결과**: [ ]

#### TC-P0-10: JSON 가져오기
- **전제조건**: 내보낸 JSON 파일 보유
- **실행단계**:
  1. 새 프로젝트 생성 (또는 캔버스 비우기)
  2. "JSON 가져오기" 클릭
  3. 이전에 내보낸 JSON 파일 선택
- **예상결과**:
  - 파일 로드 성공 메시지
  - 모든 노드가 원래 위치에 복원
  - 노드 내용이 정확히 복원
- **실제결과**: [ ]

---

## 🚀 P1 (High) - 주요 워크플로우

### 5. 노드 선택 및 조작
**목적**: 사용자 상호작용 기능 정상 작동 확인

#### TC-P1-01: 단일 노드 선택
- **전제조건**: 노드 3개 이상 존재
- **실행단계**:
  1. 첫 번째 노드 클릭
  2. 두 번째 노드 클릭
  3. 빈 공간 클릭
- **예상결과**:
  - 클릭한 노드만 선택됨 (파란색 테두리)
  - 이전 선택이 해제됨
  - 빈 공간 클릭 시 모든 선택 해제
  - 속성 패널이 선택에 따라 업데이트
- **실제결과**: [ ]

#### TC-P1-02: 노드 드래그 이동
- **전제조건**: 노드 1개 이상 존재
- **실행단계**:
  1. 노드를 마우스로 드래그
  2. 다른 위치에 드롭
- **예상결과**:
  - 노드가 새 위치로 이동
  - 이동 중 시각적 피드백 제공
  - 이동 후 위치 저장됨
- **실제결과**: [ ]

#### TC-P1-03: 다중 노드 선택
- **전제조건**: 노드 3개 이상 존재
- **실행단계**:
  1. 첫 번째 노드 클릭
  2. Ctrl+클릭으로 두 번째 노드 추가 선택
  3. Shift+클릭으로 범위 선택 시도
- **예상결과**:
  - Ctrl+클릭으로 여러 노드 선택 가능
  - 선택된 노드들이 모두 강조 표시
  - 속성 패널에 다중 선택 정보 표시
- **실제결과**: [ ]

### 6. 템플릿 및 씬 관리
**목적**: 프로젝트 구조 관리 기능 확인

#### TC-P1-04: 새 템플릿 생성
- **전제조건**: 기본 상태
- **실행단계**:
  1. 속성 패널 또는 프로젝트 관리에서 새 템플릿 생성
  2. 템플릿명 "테스트템플릿" 입력
- **예상결과**:
  - 새 템플릿 생성됨
  - 템플릿 목록에 추가됨
  - 새 템플릿으로 자동 전환
- **실제결과**: [ ]

#### TC-P1-05: 새 씬 생성
- **전제조건**: 템플릿 1개 이상 존재
- **실행단계**:
  1. 새 씬 생성 기능 실행
  2. 씬명 "테스트씬" 입력
- **예상결과**:
  - 새 씬 생성됨
  - 씬 목록에 추가됨
  - 새 씬으로 자동 전환 (빈 캔버스)
- **실제결과**: [ ]

#### TC-P1-06: 템플릿/씬 전환
- **전제조건**: 템플릿 2개, 각각 씬 2개씩 존재
- **실행단계**:
  1. 템플릿 A → 템플릿 B 전환
  2. 씬 1 → 씬 2 전환
  3. 다시 원래 템플릿/씬으로 복귀
- **예상결과**:
  - 전환 시마다 해당 템플릿/씬의 노드들 표시
  - 데이터 손실 없음
  - 선택 상태 적절히 초기화
- **실제결과**: [ ]

### 7. 파일 입출력 (확장)
**목적**: 다양한 형식의 데이터 교환 기능

#### TC-P1-07: CSV 내보내기
- **전제조건**: 다양한 내용의 노드 5개 이상
- **실행단계**:
  1. "CSV 내보내기" 클릭
  2. 다운로드된 파일들 확인
- **예상결과**:
  - dialogue.csv와 localization.csv 2개 파일 다운로드
  - CSV 형식이 올바르게 생성됨
  - 모든 노드 정보가 포함됨
- **실제결과**: [ ]

#### TC-P1-08: 프로젝트 파일 저장/로드
- **전제조건**: 완성된 프로젝트
- **실행단계**:
  1. "프로젝트 다운로드" 실행
  2. 새 프로젝트 생성
  3. "프로젝트 업로드" 실행
- **예상결과**:
  - .swproj 파일 생성
  - 메타데이터 포함하여 완전한 프로젝트 복원
  - 템플릿, 씬, 설정 모두 복원
- **실제결과**: [ ]

---

## ⚙️ P2 (Medium) - 편의성 기능

### 8. UI 상태 관리
**목적**: 사용자 인터페이스 동작 확인

#### TC-P2-01: 토스트 메시지
- **전제조건**: 앱 정상 실행
- **실행단계**:
  1. 노드 생성 (성공 토스트)
  2. 잘못된 파일 업로드 (오류 토스트)
  3. 현재 비활성화된 기능 클릭 (경고 토스트)
- **예상결과**:
  - 각 상황에 맞는 토스트 메시지 표시
  - 3초 후 자동 사라짐
  - 색상으로 메시지 유형 구분
- **실제결과**: [ ]

#### TC-P2-02: 시스템 상태 표시
- **전제조건**: 앱 정상 실행
- **실행단계**:
  1. 하단 상태바 확인
  2. 노드 생성/삭제하며 상태 변화 관찰
- **예상결과**:
  - "자동 저장됨" 기본 상태
  - 작업 시 상태 적절히 변화
  - 노드 수 정확히 표시
- **실제결과**: [ ]

#### TC-P2-03: 속성 패널 동기화
- **전제조건**: 노드 여러 개 존재
- **실행단계**:
  1. 노드 선택 변경
  2. 노드 내용 편집
  3. 노드 삭제
- **예상결과**:
  - 선택 변경 시 즉시 패널 업데이트
  - 편집 내용 실시간 반영
  - 삭제 시 패널 비움
- **실제결과**: [ ]

### 9. 데이터 검증
**목적**: 데이터 무결성 보장 기능

#### TC-P2-04: 노드 데이터 검증
- **전제조건**: 텍스트 노드 1개
- **실행단계**:
  1. 화자 필드 비움
  2. 내용 필드 비움
  3. JSON 내보내기 시도
- **예상결과**:
  - 검증 오류 메시지 표시
  - 구체적인 오류 위치 안내
  - 내보내기 중단
- **실제결과**: [ ]

#### TC-P2-05: 프로젝트 검증
- **전제조건**: 프로젝트 테스트 모드
- **실행단계**:
  1. TestProject 컴포넌트 활성화
  2. "프로젝트 검증" 클릭
- **예상결과**:
  - 전체 프로젝트 검증 결과 표시
  - 오류가 있다면 상세 내용 표시
  - 오류가 없다면 성공 메시지
- **실제결과**: [ ]

### 10. 마이그레이션 기능
**목적**: 이전 버전 호환성 확인

#### TC-P2-06: 구버전 데이터 로드
- **전제조건**: 이전 버전의 JSON 파일
- **실행단계**:
  1. 구버전 JSON 파일 업로드
  2. 마이그레이션 프로세스 확인
- **예상결과**:
  - 자동 마이그레이션 수행
  - 데이터 손실 없이 최신 형식으로 변환
  - 마이그레이션 완료 알림
- **실제결과**: [ ]

---

## 🎨 P3 (Low) - UI/UX 및 고급 기능

### 11. 테스트 컴포넌트들
**목적**: 개발용 테스트 인터페이스 동작 확인

#### TC-P3-01: TestNodes 컴포넌트
- **전제조건**: 테스트 모드 활성화
- **실행단계**:
  1. 우측 상단 테스트 모드 → Nodes 선택
  2. 각 테스트 기능 실행
- **예상결과**:
  - 노드 생성, 수정, 삭제 테스트 정상 동작
  - 콘솔에 적절한 로그 출력
  - 테스트 결과 UI에 표시
- **실제결과**: [ ]

#### TC-P3-02: TestLayout 컴포넌트
- **전제조건**: 테스트 모드 활성화
- **실행단계**:
  1. 테스트 모드 → Layout 선택
  2. 위치 계산 테스트 실행
  3. 충돌 감지 테스트 실행
- **예상결과**:
  - 레이아웃 관련 기능 정상 동작
  - "리팩터링 중" 메시지 표시 (arrange 함수들)
  - 동기화 기능 정상 작동
- **실제결과**: [ ]

#### TC-P3-03: TestUI 컴포넌트
- **전제조건**: 테스트 모드 활성화
- **실행단계**:
  1. 테스트 모드 → UI 선택
  2. 토스트, 로딩, 에러 상태 테스트
- **예상결과**:
  - 각종 UI 상태 테스트 정상 동작
  - 상태 변화 시각적으로 확인 가능
- **실제결과**: [ ]

#### TC-P3-04: TestProject 컴포넌트
- **전제조건**: 테스트 모드 활성화
- **실행단계**:
  1. 테스트 모드 → Project 선택
  2. 템플릿/씬 관리 테스트
  3. 파일 I/O 테스트
- **예상결과**:
  - 프로젝트 관리 기능 정상 동작
  - 메타데이터 관리 정상 동작
- **실제결과**: [ ]

#### TC-P3-05: TestHistory 컴포넌트
- **전제조건**: 테스트 모드 활성화
- **실행단계**:
  1. 테스트 모드 → History 선택
  2. Undo/Redo 기능 테스트
- **예상결과**:
  - 히스토리 관련 기능 정상 동작
  - 복합 액션 관리 정상 동작
- **실제결과**: [ ]

### 12. 비활성화된 기능들 (확인용)
**목적**: 임시 비활성화된 기능들의 적절한 처리 확인

#### TC-P3-06: 노드 정렬 기능
- **전제조건**: 노드 여러 개 존재
- **실행단계**:
  1. 사이드바의 정렬 버튼들 클릭
  2. TestLayout의 정렬 버튼들 클릭
- **예상결과**:
  - "리팩터링 중입니다" 메시지 표시
  - 애플리케이션 크래시 없음
  - 적절한 경고 토스트 표시
- **실제결과**: [ ]

---

## 🔄 크로스 브라우저 테스트

### 13. 브라우저 호환성
**목적**: 다양한 브라우저에서 정상 동작 확인

#### TC-CROSS-01: Chrome 테스트
- **실행단계**: 위 P0, P1 테스트를 Chrome에서 실행
- **예상결과**: 모든 기능 정상 동작
- **실제결과**: [ ]

#### TC-CROSS-02: Firefox 테스트
- **실행단계**: 위 P0, P1 테스트를 Firefox에서 실행
- **예상결과**: 모든 기능 정상 동작
- **실제결과**: [ ]

#### TC-CROSS-03: Safari 테스트
- **실행단계**: 위 P0, P1 테스트를 Safari에서 실행
- **예상결과**: 모든 기능 정상 동작
- **실제결과**: [ ]

---

## 📱 모바일 테스트

### 14. 반응형 UI
**목적**: 모바일 환경에서의 사용성 확인

#### TC-MOBILE-01: 모바일 Chrome 테스트
- **실행단계**: P0 핵심 기능을 모바일 Chrome에서 테스트
- **예상결과**: 터치 인터페이스로 기본 기능 사용 가능
- **실제결과**: [ ]

#### TC-MOBILE-02: iOS Safari 테스트
- **실행단계**: P0 핵심 기능을 iOS Safari에서 테스트
- **예상결과**: iOS 특성 고려한 정상 동작
- **실제결과**: [ ]

---

## 🚨 알려진 이슈 및 제한사항

### 현재 비활성화된 기능들
1. **노드 배치/정렬 기능**: `arrangeAllNodesAsTree`, `arrangeChildNodesAsTree`, `arrangeNodesWithDagre` 등
   - 상태: 임시 비활성화
   - 대체: "리팩터링 중입니다" 메시지
   - 예상 수정: 다음 리팩터링 단계

### 테스트 시 주의사항
1. **데이터 백업**: 테스트 전 기존 localStorage 데이터 백업 권장
2. **브라우저 캐시**: 테스트 간 캐시 클리어로 일관된 환경 유지
3. **콘솔 모니터링**: 모든 테스트 시 브라우저 콘솔에서 에러 확인
4. **성능 관찰**: 큰 프로젝트에서 성능 저하 여부 확인

---

## 📊 테스트 완료 체크리스트

### P0 (Critical) 테스트 완료
- [ ] TC-P0-01: 앱 시작
- [ ] TC-P0-02: 초기 상태 확인
- [ ] TC-P0-03: 자동 저장 확인
- [ ] TC-P0-04: 프로젝트 데이터 복구
- [ ] TC-P0-05: 텍스트 노드 생성
- [ ] TC-P0-06: 선택지 노드 생성
- [ ] TC-P0-07: 노드 내용 편집
- [ ] TC-P0-08: 노드 삭제
- [ ] TC-P0-09: JSON 내보내기
- [ ] TC-P0-10: JSON 가져오기

### P1 (High) 테스트 완료
- [ ] TC-P1-01 ~ TC-P1-08: 주요 워크플로우 테스트

### P2 (Medium) 테스트 완료
- [ ] TC-P2-01 ~ TC-P2-06: 편의성 기능 테스트

### P3 (Low) 테스트 완료
- [ ] TC-P3-01 ~ TC-P3-06: UI/UX 및 고급 기능 테스트

### 크로스 브라우저 테스트 완료
- [ ] TC-CROSS-01: Chrome
- [ ] TC-CROSS-02: Firefox
- [ ] TC-CROSS-03: Safari

### 모바일 테스트 완료
- [ ] TC-MOBILE-01: Android Chrome
- [ ] TC-MOBILE-02: iOS Safari

---

## 📝 테스트 결과 요약

**테스트 실행일**: ________________
**테스트 실행자**: ________________
**전체 테스트 수**: 40개

### 결과 통계
- ✅ **PASS**: ___/40
- ❌ **FAIL**: ___/40
- ⚠️ **PARTIAL**: ___/40
- 🔄 **SKIP**: ___/40

### 중요 발견사항
1. ________________________________
2. ________________________________
3. ________________________________

### 추가 조치 필요 항목
1. ________________________________
2. ________________________________
3. ________________________________

**테스트 완료 확인**: [ ] 모든 P0, P1 테스트 통과
**프로덕션 배포 승인**: [ ] 승인자 서명 