# 대화 노드 에디터 디자인 명세서

## 목적

기획자가 대화 흐름을 시각적으로 설계하고, 로컬라이제이션 키를 기반으로 다국어 대사 흐름을 미리 확인할 수 있는 편집 도구를 제공합니다.

---

## 주요 기능

### ✅ 무한 캔버스

-   노드를 자유롭게 배치 가능한 2D 무한 확대/축소 캔버스
-   마우스 드래그로 이동, 휠로 확대/축소
-   미니맵 제공 (오른쪽 하단)

### ✅ 노드 타입 선택

-   text, choice 노드 기본 지원
-   노드 생성 후 타입 전환 가능

### ✅ text 노드

-   제목(노드 식별용)
-   화자 (`speaker_key`)
-   대사 키 (`text_key`) → 미리보기 지원
-   다음 노드 지정 가능 (연결선으로 연결)

### ✅ choice 노드

-   제목
-   화자 (`speaker_key`)
-   질문 텍스트 키 (`text_key`)
-   선택지 추가 (다중 가능)
    -   각 선택지는 `choice_key`, 연결 노드 선택

---

## 인터랙션 요소

-   노드 생성: 캔버스 클릭 후 메뉴 선택
-   노드 드래그: 마우스 또는 터치
-   노드 연결: 포트에서 다른 노드로 드래그
-   언어 선택: 상단 드롭다운
-   미리보기: 텍스트 키 입력 시 localizer에서 미리보기 표시

---

## 예외 처리

-   localizer 키 누락 시 경고
-   연결 누락 시 시각적 강조
-   순환 구조 감지 시 경고
